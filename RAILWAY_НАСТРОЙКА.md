# –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Railway

## ‚úÖ –ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ

–ü—Ä–æ–µ–∫—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è Railway:
- ‚úÖ –°–æ–∑–¥–∞–Ω `.railwayignore` - –∏—Å–∫–ª—é—á–∞–µ—Ç –Ω–µ–Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω `.npmrc` - –±—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `railway.json` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∏–ª–¥–∞
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω Puppeteer –¥–ª—è Railway
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Å credentials
- ‚úÖ –°—Ç—Ä–æ–≥–∏–π rate limiting –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤

## üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ Railway Dashboard

### 1. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (Environment Variables)

**–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** –¥–æ–±–∞–≤—å—Ç–µ –≤ Railway Dashboard ‚Üí Variables:

```
NODE_ENV=production
PORT=3001
JWT_SECRET=<—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ: openssl rand -base64 32>
API_CLIENT_ID=<–≤–∞—à client_id, –Ω–∞–ø—Ä–∏–º–µ—Ä: my-wordpress-site>
API_CLIENT_SECRET=<—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ: openssl rand -base64 32>
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
```

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ** (–¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏):
```
PUPPETEER_CACHE_DIR=/tmp/.cache/puppeteer
AUTH_RATE_LIMIT=5
API_RATE_LIMIT=10
JWT_EXPIRY=24h
```

**–ì–¥–µ –Ω–∞–π—Ç–∏:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –≤ Railway
2. –í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ä–≤–∏—Å (Service)
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "Variables"
4. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤—ã—à–µ

### 2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è credentials

**–ù–∞ macOS/Linux:**
```bash
# –î–ª—è JWT_SECRET
openssl rand -base64 32

# –î–ª—è API_CLIENT_SECRET
openssl rand -base64 32
```

**–ò–ª–∏ —á–µ—Ä–µ–∑ Node.js:**
```bash
node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Build & Deploy

**Build Command:** –û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º (Railway –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `railway.json`)

**Start Command:** –û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º (Railway –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `railway.json`)

**–ì–¥–µ –Ω–∞–π—Ç–∏:**
1. –í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ä–≤–∏—Å
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "Settings"
3. –†–∞–∑–¥–µ–ª "Build & Deploy"
4. –û—Å—Ç–∞–≤—å—Ç–µ –ø–æ–ª—è –ø—É—Å—Ç—ã–º–∏

### 4. –†–µ—Å—É—Ä—Å—ã (Resources)

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
- **Memory**: 1GB (–º–∏–Ω–∏–º—É–º 512MB –¥–ª—è Puppeteer)
- **CPU**: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–ª–∞–Ω

**–ì–¥–µ –Ω–∞–π—Ç–∏:**
1. –í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ä–≤–∏—Å
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "Settings"
3. –†–∞–∑–¥–µ–ª "Resources"
4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Memory –Ω–∞ 1GB

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ó–∞—â–∏—Ç–∞ –æ—Ç –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞:

1. **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ credentials** - —Ç–æ–∫–µ–Ω –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–ª—å–∫–æ —Å –≤–∞–ª–∏–¥–Ω—ã–º–∏ `client_id` –∏ `client_secret`
2. **–°—Ç—Ä–æ–≥–∏–π rate limiting** - 5 –ø–æ–ø—ã—Ç–æ–∫ –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞ –∑–∞ 15 –º–∏–Ω—É—Ç
3. **JWT —Å –∏—Å—Ç–µ—á–µ–Ω–∏–µ–º** - —Ç–æ–∫–µ–Ω—ã –¥–µ–π—Å—Ç–≤—É—é—Ç 24 —á–∞—Å–∞
4. **Credentials –≤ env** - —Å–µ–∫—Ä–µ—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ Railway, –Ω–µ –≤ –∫–æ–¥–µ

### –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω:

```bash
curl -X POST https://ai-audit-pdf-generation-production.up.railway.app/api/auth/token \
  -H "Content-Type: application/json" \
  -d '{
    "client_id": "your-client-id",
    "client_secret": "your-client-secret"
  }'
```

## ‚ö° –û–∂–∏–¥–∞–µ–º–æ–µ –≤—Ä–µ–º—è –±–∏–ª–¥–∞

- **–ü–µ—Ä–≤—ã–π –±–∏–ª–¥**: 3-5 –º–∏–Ω—É—Ç (—Å–∫–∞—á–∏–≤–∞–Ω–∏–µ Chromium)
- **–ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –±–∏–ª–¥—ã**: 1-2 –º–∏–Ω—É—Ç—ã (—Å –∫—ç—à–µ–º)

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

1. **Health check:**
   ```bash
   curl https://ai-audit-pdf-generation-production.up.railway.app/api/health
   ```

2. **–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞:**
   ```bash
   curl -X POST https://ai-audit-pdf-generation-production.up.railway.app/api/auth/token \
     -H "Content-Type: application/json" \
     -d '{"client_id": "your-id", "client_secret": "your-secret"}'
   ```

## üìù –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **package-lock.json** –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–∫–æ–º–º–∏—á–µ–Ω –≤ Git
2. **.railwayignore** –∏—Å–∫–ª—é—á–∞–µ—Ç –Ω–µ–Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã –∏–∑ –¥–µ–ø–ª–æ—è
3. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫—ç—à–∏—Ä—É–µ—Ç `node_modules` –º–µ–∂–¥—É –±–∏–ª–¥–∞–º–∏
4. PDF —Ñ–∞–π–ª—ã —Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ —Ä–µ–¥–µ–ø–ª–æ–µ (—ç—Ñ–µ–º–µ—Ä–Ω–∞—è —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞)

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ë–∏–ª–¥ –¥–æ–ª–≥–∏–π (>5 –º–∏–Ω—É—Ç)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å < 100MB)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `.railwayignore` —Ä–∞–±–æ—Ç–∞–µ—Ç

### –û—à–∏–±–∫–∏ Puppeteer
- –£–≤–µ–ª–∏—á—å—Ç–µ Memory –¥–æ 1GB
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `PUPPETEER_CACHE_DIR`

### "Invalid credentials"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `API_CLIENT_ID` –∏ `API_CLIENT_SECRET` –≤ Railway Variables
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –∑–∞–ø—Ä–æ—Å–µ

### "Too many authentication attempts"
- Rate limiting: –ø–æ–¥–æ–∂–¥–∏—Ç–µ 15 –º–∏–Ω—É—Ç
- –ò–ª–∏ —É–≤–µ–ª–∏—á—å—Ç–µ `AUTH_RATE_LIMIT` –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- `AUTH_ENDPOINTS.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- `API_ENDPOINTS.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ API
- `QUICK_START.md` - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
